This week, I have been refining the peak detection algorithm that I have found. I realized that the parameter has to be tuned differently for different days/cases. One reason is that the range of the daily data is quite different, and there is no consistent max/min for the entire dataset. Sometimes, the min can even be negative. So, I tried to run the algorithm to on the same day data twice to see if the algorithm can detect the peak more accurately. In the first run, the algorithm detects the noise peak very well but the algorithm does not see the entire trend of the data. The algorithm detects the local maximum really well. 

The current method requires me to hand tune the parameters which depends heavily on my understanding for what the "true" data should be. This process is biased (I may unconsicously adjust data to fit my expectations). So, we need an algorithm that can more robustly detect peaks. I have found a paper that discusses about auto thresholding peak detection which I will delve into it more in the following week.